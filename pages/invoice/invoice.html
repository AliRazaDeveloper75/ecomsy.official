<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>IT Services - Invoice System</title><style>:root{--primary-color:#3498db;--secondary-color:#2980b9;--accent-color:#e74c3c;--light-color:#ecf0f1;--dark-color:#2c3e50;--success-color:#2ecc71}*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}body{background-color:#f5f7fa;color:#333;line-height:1.6}.container{max-width:1200px;margin:0 auto;padding:20px}header{background-color:var(--dark-color);color:#fff;padding:20px 0;text-align:center;margin-bottom:30px}h1,h2,h3{margin-bottom:15px}.search-section{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:30px}.search-form{display:flex;gap:10px}.search-form input{flex:1;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}.search-form button{background-color:var(--primary-color);color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;transition:background-color .3s}.search-form button:hover{background-color:var(--secondary-color)}.form-section,.review-section{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:30px}.form-row{display:flex;gap:20px;margin-bottom:20px}.form-group{flex:1}label{display:block;margin-bottom:8px;font-weight:600}input,select,textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}textarea{min-height:100px;resize:vertical}.services-section{margin-top:30px}.service-type{margin-bottom:20px}.service-option{display:flex;align-items:center;margin-bottom:10px}.service-option input{width:auto;margin-right:10px}.milestone{background-color:#f9f9f9;padding:15px;border-radius:4px;margin-top:10px;display:none}.milestone.active{display:block}.milestone-row{display:flex;gap:10px;margin-bottom:10px}.milestone-row input{flex:1}.btn{background-color:var(--primary-color);color:#fff;border:none;padding:12px 25px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s;text-align:center;display:inline-block}.btn:hover{background-color:var(--secondary-color)}.btn-accent{background-color:var(--accent-color)}.btn-accent:hover{background-color:#c0392b}.btn-success{background-color:var(--success-color)}.btn-success:hover{background-color:#27ae60}.hidden{display:none}.invoice-preview{margin-top:30px;border:1px solid #ddd;padding:20px;border-radius:4px}.invoice-header{display:flex;justify-content:space-between;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #eee}.invoice-details{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.invoice-items{width:100%;border-collapse:collapse;margin:20px 0}.invoice-items td,.invoice-items th{padding:12px;text-align:left;border-bottom:1px solid #eee}.invoice-items th{background-color:#f5f5f5}.invoice-total{text-align:right;margin-top:20px;font-size:18px;font-weight:700}.status-badge{display:inline-block;padding:5px 10px;border-radius:20px;font-size:14px;font-weight:600}.status-unpaid{background-color:#fde8e8;color:var(--accent-color)}.status-paid{background-color:#e8f8f0;color:var(--success-color)}.action-buttons{display:flex;gap:10px;margin-top:20px}.service-select{margin-bottom:15px}.service-select select{margin-bottom:10px}@media (max-width:768px){.form-row{flex-direction:column;gap:0}.invoice-details{grid-template-columns:1fr}}</style></head><body><header><div class="container"><h1>IT Services Invoice System</h1></div></header><div class="container"><section class="search-section"><h2>Search Invoice</h2><form id="searchInvoiceForm" class="search-form"><input type="text" id="invoiceSearch" placeholder="Enter Invoice ID" required><button type="submit">Search</button></form></section><section id="invoiceFormSection" class="form-section"><h2>Create New Invoice</h2><form id="invoiceForm"><div class="form-row"><div class="form-group"><label for="clientName">Full Name</label><input type="text" id="clientName" required></div><div class="form-group"><label for="clientEmail">Email</label><input type="email" id="clientEmail" required></div></div><div class="form-row"><div class="form-group"><label for="clientPhone">Phone Number</label><input type="tel" id="clientPhone" required></div><div class="form-group"><label for="clientAddress">Address</label><input type="text" id="clientAddress" required></div></div><div class="form-row"><div class="form-group"><label for="clientState">State</label><input type="text" id="clientState" required></div><div class="form-group"><label for="clientPostalCode">Postal Code</label><input type="text" id="clientPostalCode" required></div></div><div class="form-row"><div class="form-group"><label for="projectName">Project Name</label><input type="text" id="projectName" required></div><div class="form-group"><label for="projectDuration">Project Duration</label><select id="projectDuration" required><option value="">Select Duration</option><option value="less than 1 month">Less than 1 month</option><option value="1-3 months">1-3 months</option><option value="3-6 months">3-6 months</option><option value="more than 6 months">More than 6 months</option></select></div></div><div class="form-group"><label for="projectDescription">Project Description</label><textarea id="projectDescription" required></textarea></div><div class="services-section"><h3>Services</h3><div class="service-type"><h4>Select Service Type</h4><div class="service-option"><input type="radio" id="fixedPrice" name="serviceType" value="fixed" checked="checked"><label for="fixedPrice">Fixed Price Package</label></div><div class="service-option"><input type="radio" id="customPackage" name="serviceType" value="custom"><label for="customPackage">Custom Package (3 Milestones)</label></div></div><div id="fixedPriceSection"><div class="service-select"><label for="serviceSelection">Select Service</label><select id="serviceSelection"><option value="">-- Select a service --</option><option value="website-dev">Website Development</option><option value="ecommerce">E-commerce Website</option><option value="mobile-app">Mobile App Development</option><option value="seo">SEO Package</option><option value="maintenance">Website Maintenance</option><option value="custom">Custom Service</option></select></div><div class="form-row"><div class="form-group"><label for="fixedPriceAmount">Amount ($)</label><input type="number" id="fixedPriceAmount" min="0" step="0.01" required readonly="readonly"></div><div class="form-group"><label for="fixedPriceDescription">Service Description</label><input type="text" id="fixedPriceDescription" required readonly="readonly"></div></div></div><div id="customPackageSection" class="hidden"><div class="milestone"><h4>Milestone 1</h4><div class="form-row"><div class="form-group"><label for="milestone1Amount">Amount ($)</label><input type="number" id="milestone1Amount" min="0" step="0.01"></div><div class="form-group"><label for="milestone1Description">Description</label><input type="text" id="milestone1Description"></div></div></div><div class="milestone"><h4>Milestone 2</h4><div class="form-row"><div class="form-group"><label for="milestone2Amount">Amount ($)</label><input type="number" id="milestone2Amount" min="0" step="0.01"></div><div class="form-group"><label for="milestone2Description">Description</label><input type="text" id="milestone2Description"></div></div></div><div class="milestone"><h4>Milestone 3</h4><div class="form-row"><div class="form-group"><label for="milestone3Amount">Amount ($)</label><input type="number" id="milestone3Amount" min="0" step="0.01"></div><div class="form-group"><label for="milestone3Description">Description</label><input type="text" id="milestone3Description"></div></div></div></div></div><button type="submit" class="btn">Create Invoice</button></form></section><section id="invoiceReviewSection" class="review-section hidden"><h2>Order Review</h2><div id="invoicePreview" class="invoice-preview"></div><div class="action-buttons"><button id="downloadInvoiceBtn" class="btn">Download Invoice</button><button id="payNowBtn" class="btn btn-success">Pay Now</button></div></section></div><script>document.addEventListener('DOMContentLoaded', function() {
            // Predefined services with prices and descriptions
            const services = {
                'website-dev': {
                    price: 1200,
                    description: 'Basic Website Development (5 pages)'
                },
                'ecommerce': {
                    price: 3500,
                    description: 'E-commerce Website with Shopping Cart'
                },
                'mobile-app': {
                    price: 5000,
                    description: 'Mobile Application Development (iOS/Android)'
                },
                'seo': {
                    price: 800,
                    description: 'Basic SEO Package (Monthly)'
                },
                'maintenance': {
                    price: 300,
                    description: 'Website Maintenance (Monthly)'
                },
                'custom': {
                    price: 0,
                    description: 'Custom Service (Price to be determined)'
                }
            };
            
            // DOM Elements
            const searchForm = document.getElementById('searchInvoiceForm');
            const invoiceForm = document.getElementById('invoiceForm');
            const fixedPriceRadio = document.getElementById('fixedPrice');
            const customPackageRadio = document.getElementById('customPackage');
            const fixedPriceSection = document.getElementById('fixedPriceSection');
            const customPackageSection = document.getElementById('customPackageSection');
            const invoiceFormSection = document.getElementById('invoiceFormSection');
            const invoiceReviewSection = document.getElementById('invoiceReviewSection');
            const invoicePreview = document.getElementById('invoicePreview');
            const downloadInvoiceBtn = document.getElementById('downloadInvoiceBtn');
            const payNowBtn = document.getElementById('payNowBtn');
            const serviceSelection = document.getElementById('serviceSelection');
            const fixedPriceAmount = document.getElementById('fixedPriceAmount');
            const fixedPriceDescription = document.getElementById('fixedPriceDescription');
            
            // Service type toggle
            fixedPriceRadio.addEventListener('change', function() {
                if (this.checked) {
                    fixedPriceSection.classList.remove('hidden');
                    customPackageSection.classList.add('hidden');
                }
            });
            
            customPackageRadio.addEventListener('change', function() {
                if (this.checked) {
                    fixedPriceSection.classList.add('hidden');
                    customPackageSection.classList.remove('hidden');
                }
            });
            
            // Service selection change
            serviceSelection.addEventListener('change', function() {
                const selectedService = this.value;
                
                if (selectedService && selectedService !== 'custom') {
                    fixedPriceAmount.value = services[selectedService].price;
                    fixedPriceDescription.value = services[selectedService].description;
                } else if (selectedService === 'custom') {
                    fixedPriceAmount.value = '';
                    fixedPriceDescription.value = '';
                    fixedPriceAmount.removeAttribute('readonly');
                    fixedPriceDescription.removeAttribute('readonly');
                } else {
                    fixedPriceAmount.value = '';
                    fixedPriceDescription.value = '';
                }
            });
            
            // Form submission
            invoiceForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Generate random invoice ID
                const invoiceId = 'INV-' + Math.floor(100000 + Math.random() * 900000);
                
                // Get form values
                const formData = {
                    invoiceId: invoiceId,
                    client: {
                        name: document.getElementById('clientName').value,
                        email: document.getElementById('clientEmail').value,
                        phone: document.getElementById('clientPhone').value,
                        address: document.getElementById('clientAddress').value,
                        state: document.getElementById('clientState').value,
                        postalCode: document.getElementById('clientPostalCode').value
                    },
                    project: {
                        name: document.getElementById('projectName').value,
                        duration: document.getElementById('projectDuration').value,
                        description: document.getElementById('projectDescription').value
                    },
                    serviceType: document.querySelector('input[name="serviceType"]:checked').value,
                    items: [],
                    status: 'unpaid',
                    date: new Date().toLocaleDateString(),
                    dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()
                };
                
                if (formData.serviceType === 'fixed') {
                    formData.items.push({
                        description: document.getElementById('fixedPriceDescription').value,
                        amount: parseFloat(document.getElementById('fixedPriceAmount').value)
                    });
                } else {
                    // Custom package milestones
                    if (document.getElementById('milestone1Amount').value) {
                        formData.items.push({
                            description: document.getElementById('milestone1Description').value,
                            amount: parseFloat(document.getElementById('milestone1Amount').value)
                        });
                    }
                    
                    if (document.getElementById('milestone2Amount').value) {
                        formData.items.push({
                            description: document.getElementById('milestone2Description').value,
                            amount: parseFloat(document.getElementById('milestone2Amount').value)
                        });
                    }
                    
                    if (document.getElementById('milestone3Amount').value) {
                        formData.items.push({
                            description: document.getElementById('milestone3Description').value,
                            amount: parseFloat(document.getElementById('milestone3Amount').value)
                        });
                    }
                }
                
                // Calculate total
                formData.total = formData.items.reduce((sum, item) => sum + item.amount, 0);
                
                // Save to localStorage (simulating database)
                localStorage.setItem(invoiceId, JSON.stringify(formData));
                
                // Generate and show invoice preview
                generateInvoicePreview(formData);
                invoiceFormSection.classList.add('hidden');
                invoiceReviewSection.classList.remove('hidden');
            });
            
            // Search invoice
            searchForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const invoiceId = document.getElementById('invoiceSearch').value.trim();
                
                if (invoiceId) {
                    const invoiceData = localStorage.getItem(invoiceId);
                    
                    if (invoiceData) {
                        const parsedData = JSON.parse(invoiceData);
                        generateInvoicePreview(parsedData);
                        invoiceFormSection.classList.add('hidden');
                        invoiceReviewSection.classList.remove('hidden');
                    } else {
                        alert('Invoice not found. Please check the Invoice ID and try again.');
                    }
                }
            });
            
            // Pay now button
            payNowBtn.addEventListener('click', function() {
                const invoiceId = document.querySelector('#invoicePreview .invoice-id').textContent.split(': ')[1];
                const invoiceData = JSON.parse(localStorage.getItem(invoiceId));
                
                if (invoiceData.status === 'unpaid') {
                    invoiceData.status = 'paid';
                    localStorage.setItem(invoiceId, JSON.stringify(invoiceData));
                    
                    // Regenerate preview with paid status
                    generateInvoicePreview(invoiceData);
                    
                    alert('Payment successful! Invoice status updated to Paid.');
                } else {
                    alert('This invoice has already been paid.');
                }
            });
            
            // Download invoice button
            downloadInvoiceBtn.addEventListener('click', function() {
                const invoiceContent = invoicePreview.innerHTML;
                const blob = new Blob([`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Invoice</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 40px; }
                            .invoice-header { display: flex; justify-content: space-between; margin-bottom: 30px; }
                            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
                            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                            th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
                            th { background-color: #f2f2f2; }
                            .total { text-align: right; font-weight: bold; font-size: 18px; margin-top: 20px; }
                            .status-paid { color: green; }
                            .status-unpaid { color: red; }
                        </style>
                    </head>
                    <body>
                        ${invoiceContent}
                    </body>
                    </html>
                `], { type: 'text/html' });
                
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `invoice_${document.querySelector('#invoicePreview .invoice-id').textContent.split(': ')[1]}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
            
            // Helper function to generate invoice preview
            function generateInvoicePreview(data) {
                let itemsHtml = '';
                data.items.forEach(item => {
                    itemsHtml += `
                        <tr>
                            <td>${item.description}</td>
                            <td>$${item.amount.toFixed(2)}</td>
                        </tr>
                    `;
                });
                
                invoicePreview.innerHTML = `
                    <div class="invoice-header">
                        <div>
                            <h2>IT Services Invoice</h2>
                            <p class="invoice-id">Invoice ID: ${data.invoiceId}</p>
                        </div>
                        <div>
                            <p><strong>Date:</strong> ${data.date}</p>
                            <p><strong>Due Date:</strong> ${data.dueDate}</p>
                            <p><strong>Status:</strong> <span class="status-${data.status}">${data.status.charAt(0).toUpperCase() + data.status.slice(1)}</span></p>
                        </div>
                    </div>
                    
                    <div class="invoice-details">
                        <div>
                            <h3>Bill To</h3>
                            <p>${data.client.name}</p>
                            <p>${data.client.email}</p>
                            <p>${data.client.phone}</p>
                            <p>${data.client.address}</p>
                            <p>${data.client.state}, ${data.client.postalCode}</p>
                        </div>
                        <div>
                            <h3>Project Details</h3>
                            <p><strong>Project Name:</strong> ${data.project.name}</p>
                            <p><strong>Duration:</strong> ${data.project.duration}</p>
                            <p><strong>Description:</strong> ${data.project.description}</p>
                        </div>
                    </div>
                    
                    <table class="invoice-items">
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${itemsHtml}
                        </tbody>
                    </table>
                    
                    <div class="invoice-total">
                        <p>Total: $${data.total.toFixed(2)}</p>
                    </div>
                `;
            }
        });</script></body></html>