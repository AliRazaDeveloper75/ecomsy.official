<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Registration | Ecomsy</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="apply-course.css" />
    <style></style>
  </head>
  <body>
    <div id="course-header"></div>
    <script src="../../../pages/course/course-detail/headfooter.js"></script>

    <!-- Header Section -->
    <header class="main-header">
      <div class="container">
        <h1>Ready to Talk With Us</h1>
        <p>Grow your skills with our expert-designed programs</p>
      </div>
    </header>

    <!-- Registration Form -->
    <div class="container">
      <form id="consultationForm">
        <h2>Kindly Fill Form To Book Consultation</h2>

        <div class="form-row">
          <div class="form-group full-width">
            <label>Enrollment For Training<span>*</span></label>
            <select id="courseSelect" required>
              <option value="">Select Course</option>
              <option
                value="Amazon FBA Mastery – Private Label + Wholesale Combined"
              >
                Amazon FBA Mastery – Private Label + Wholesale Combined
              </option>
              <option value="Shopify Local & International E-Commerce Mastery">
                Shopify Local & International E-Commerce Mastery
              </option>
              <option value="TikTok Shop & Advertisement Mastery">
                TikTok Shop & Advertisement Mastery
              </option>
              <option value="Freelancing Mastery">Freelancing Mastery</option>
              <option value="Amazon FBA Wholesale">Amazon FBA Wholesale</option>
              <option value="Amazon Private Label">Amazon Private Label</option>
              <option value="Full Stack Web Development Bootcamp">
                Full Stack Web Development Bootcamp
              </option>
              <option value="Facebook & Instagram Ads Mastery">
                Facebook & Instagram Ads Mastery
              </option>
              <option value="Google Ads Mastery">Google Ads Mastery</option>
              <option value="Professional Graphic Design Mastery">
                Professional Graphic Design Mastery
              </option>
              <option value="Business Mastery Series">
                Business Mastery Series
              </option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label>Course Price</label>
            <input
              type="text"
              id="coursePrice"
              readonly
              placeholder="Price will appear here"
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Name<span>*</span></label>
            <input
              type="text"
              id="studentName"
              placeholder="Enter your name"
              required
            />
          </div>
          <div class="form-group">
            <label>Father Name<span>*</span></label>
            <input
              type="text"
              id="fatherName"
              placeholder="Enter your father name"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Email Address<span>*</span></label>
            <input
              type="email"
              id="email"
              placeholder="Enter your email"
              required
            />
          </div>
          <div class="form-group">
            <label>WhatsApp Number<span>*</span></label>
            <input
              type="number"
              id="whatsappNumber"
              placeholder="WhatsApp number"
              required
            />
            <small id="whatsappError" class="error-message">
              Please enter exactly 11 digits
            </small>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>City<span>*</span></label>
            <input
              type="text"
              id="city"
              placeholder="Your City name"
              required
            />
          </div>
          <div class="form-group">
            <label>Country<span>*</span></label>
            <input
              type="text"
              id="country"
              placeholder="Enter your country"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Payment Mode<span>*</span></label>
            <select id="paymentMode" required>
              <option value="">Select Payment Mode</option>
              <option value="Easy Paisa Online">Easypaisa</option>
              <option value="Bank Account">Bank Account</option>
              <option value="On Campus">On Campus</option>
            </select>
          </div>
          <div class="form-group">
            <label>Training Mode<span>*</span></label>
            <select id="trainingMode" required>
              <option value="">Select Training Mode</option>
              <option value="Online">Online</option>
              <option value="On Campus">On Campus</option>
            </select>
          </div>
        </div>

        <!-- ID Type -->
        <div class="form-row">
          <div class="form-group">
            <label>Identification<span>*</span></label>
            <select id="idType" required>
              <option value="">Select ID Type</option>
              <option value="CNIC">CNIC</option>
              <option value="Passport">Passport</option>
            </select>
          </div>
          <div class="form-group">
            <label id="idNumberLabel">ID Number<span>*</span></label>
            <input
              type="number"
              id="idNumber"
              placeholder="Enter your ID"
              required
            />
            <small id="idError" class="error-message"></small>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Gender<span>*</span></label>
            <select id="gender" required>
              <option value="">Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
          </div>
          <div class="form-group">
            <label>How did you hear about us?<span>*</span></label>
            <select id="referralSource" required>
              <option value="">Select Option</option>
              <option value="Social Media">Social Media</option>
              <option value="Friend/Family">Friend/Family</option>
              <option value="Advertisement">Advertisement</option>
              <option value="Search Engine">Search Engine</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label>Address<span>*</span></label>
            <textarea
              id="address"
              placeholder="Enter Your Complete Address"
              required
            ></textarea>
          </div>
        </div>

        <div class="form-row">
          <button type="submit">Submit</button>
        </div>
        <div class="term-and-condition">
          <h1>Terms and Conditions</h1>
          <h3>Refund Process:</h3>
          <p>
            • Refund can be made in the following categories:<br />
            • 1st Class is Demo/Trail Base<br />
            • 100% Class before 2nd class<br />
            • After 2nd class, there is no refund policy at all.
          </p>
        </div>
      </form>
    </div>

    <!--footer section-->
    <footer class="footer">
      <!-- Services -->
      <div class="footer-section">
        <div class="footer-heading-line">
          <h3>Services</h3>
        </div>

        <div class="left-space-footer">
          <div class="left-width" style="width: 11%; color: #1c1c25">width</div>

          <div class="footer-section-content">
            <div class="footer-content">
              <p>UI/UX Design</p>
              <p>Software Development</p>
              <p>Shopify Store Design & Development</p>
              <p>WordPress + WooCommerce Development</p>
              <p>Custom-Coded Websites (HTML, CSS, JavaScript, PHP, etc.)</p>
            </div>
            <div class="footer-content">
              <p>Branding & Creative Design</p>
              <p>Business Website Development</p>
              <p>Android & iOS App Development</p>
              <p>Technical Support & Integrations</p>
            </div>
          </div>
        </div>
      </div>
      <!-- Social Media -->
      <div class="footer-section">
        <div class="footer-heading-line">
          <h3>Social Media</h3>
        </div>
        <div class="left-space-footer">
          <div class="left-width" style="width: 11%; color: #1c1c25">width</div>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>

      <!-- Company -->
      <div class="footer-section">
        <div class="footer-heading-line">
          <h3>Company</h3>
        </div>
        <div class="left-space-footer">
          <div class="left-width" style="width: 11%; color: #1c1c25">width</div>
          <div class="footer-section-content">
            <div class="footer-content">
              <p>Home</p>
              <p>Courses</p>
              <p>Services</p>
              <p>Our Work</p>
              <p>Get In Touch</p>
              <p style="color: #1c1c25">
                Custom-Coded Websites (HTML, CSS, JavaScript, PHP, etc.)
              </p>
            </div>
            <div class="footer-content">
              <p>About</p>
              <p>Invoice</p>
              <p>Contacts</p>
              <p>Testimonials</p>
              <p>Case Studies</p>
            </div>
            <div class="footer-content">
              <img src="" />
            </div>
          </div>
        </div>
      </div>
    </footer>
    <div class="footer-divider"></div>
    <div class="copy-right-section">
      <div>
        © Copyright 2024-2025 ECOMSY (SMC-PRIVATE) LIMITED. All rights reserved.
      </div>
    </div>

    <script>
      function toggleMenu() {
        const navLinks = document.getElementById("navLinks");
        const hamburgers = document.querySelectorAll(".hamburger");

        navLinks.classList.toggle("active");

        hamburgers.forEach((hamburger) => {
          hamburger.classList.toggle("active");
        });
      }

      window.addEventListener("scroll", () => {
        const navbar = document.querySelector(".navbar");
        navbar.classList.toggle("scrolled", window.scrollY > 50);
      });

      function openTab(evt, tabName) {
        // Hide all tab content
        const tabContents = document.getElementsByClassName("tab-content");
        for (let i = 0; i < tabContents.length; i++) {
          tabContents[i].classList.remove("active");
        }

        // Remove active class from all buttons
        const tabButtons = document.getElementsByClassName("tab-btn");
        for (let i = 0; i < tabButtons.length; i++) {
          tabButtons[i].classList.remove("active");
        }

        // Show the current tab and add active class to the button
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");
      }

      // Course prices mapping
      const prices = {
        "Amazon FBA Mastery – Private Label + Wholesale Combined": "34500",
        "Amazon FBA Wholesale": "29500",
        "Shopify Local & International E-Commerce Mastery": "24500",
        "Amazon Private Label": "34500",
        "Full Stack Web Development Bootcamp": "49500",
        "Facebook & Instagram Ads Mastery": "14500",
        "TikTok Shop & Advertisement Mastery": "24500",
        "Google Ads Mastery": "28500",
        "Professional Graphic Design Mastery": "26500",
        "Freelancing Mastery": "24500",
        "Business Mastery Series": "33500",
      };

      // Update price based on selected course
      function updatePrice() {
        const course = document.getElementById("courseSelect").value;
        const price = prices[course] || "";
        document.getElementById("coursePrice").value = price
          ? `PKR ${Number(price).toLocaleString()}`
          : "";
      }

      // Validate CNIC (13 digits) or Passport (9 digits)
      function validateIdNumber() {
        const idType = document.getElementById("idType").value;
        const idNumber = document.getElementById("idNumber").value;
        const errorElement = document.getElementById("idError");

        if (idType === "CNIC") {
          if (idNumber.length !== 13) {
            errorElement.textContent = "CNIC must be exactly 13 digits";
            errorElement.style.display = "block";
            document
              .getElementById("idNumber")
              .setCustomValidity("Invalid CNIC");
          } else {
            errorElement.style.display = "none";
            document.getElementById("idNumber").setCustomValidity("");
          }
          if (idNumber.length > 13) {
            document.getElementById("idNumber").value = idNumber.slice(0, 13);
          }
        }

        if (idType === "Passport") {
          if (idNumber.length !== 9) {
            errorElement.textContent = "Passport must be exactly 9 digits";
            errorElement.style.display = "block";
            document
              .getElementById("idNumber")
              .setCustomValidity("Invalid Passport");
          } else {
            errorElement.style.display = "none";
            document.getElementById("idNumber").setCustomValidity("");
          }
          if (idNumber.length > 9) {
            document.getElementById("idNumber").value = idNumber.slice(0, 9);
          }
        }
      }

      // Validate WhatsApp number (11 digits)
      function validateWhatsAppNumber() {
        const input = document.getElementById("whatsappNumber");
        const errorElement = document.getElementById("whatsappError");
        const value = input.value;

        if (value.length !== 11) {
          errorElement.style.display = "block";
          input.setCustomValidity("Please enter exactly 11 digits");
        } else {
          errorElement.style.display = "none";
          input.setCustomValidity("");
        }

        if (value.length > 11) {
          input.value = value.slice(0, 11);
        }
      }

      // Toggle ID field label based on selection
      function toggleIdField() {
        const idType = document.getElementById("idType").value;
        const label = document.getElementById("idNumberLabel");

        if (idType === "CNIC") {
          label.textContent = "CNIC Number*";
        } else if (idType === "Passport") {
          label.textContent = "Passport Number*";
        } else {
          label.textContent = "ID Number*";
        }
      }

      // Generate registration number
      function generateRegistrationNumber() {
        const date = new Date();
        const day = String(date.getDate()).padStart(2, "0");
        const month = String(date.getMonth() + 1).padStart(2, "0");
        const year = date.getFullYear().toString().substr(-2);
        const randomNum = Math.floor(100000 + Math.random() * 900000);
        return `EC${day}${month}${year}-${randomNum}`;
      }

      // Form submission handler
      function submitForm(event) {
        event.preventDefault();

        // Validate WhatsApp number before submission
        validateWhatsAppNumber();
        if (document.getElementById("whatsappNumber").validity.valid) {
          // Get form data using specific IDs
          const formData = {
            course: document.getElementById("courseSelect").value,
            coursePrice: document.getElementById("coursePrice").value,
            name: document.getElementById("studentName").value,
            fatherName: document.getElementById("fatherName").value,
            email: document.getElementById("email").value,
            whatsapp: document.getElementById("whatsappNumber").value,
            city: document.getElementById("city").value,
            country: document.getElementById("country").value,
            paymentMode: document.getElementById("paymentMode").value,
            trainingMode: document.getElementById("trainingMode").value,
            idType: document.getElementById("idType").value,
            idNumber: document.getElementById("idNumber").value,
            gender: document.getElementById("gender").value,
            referralSource: document.getElementById("referralSource").value,
            address: document.getElementById("address").value,
            timestamp: new Date().toISOString(),
          };

          // Generate registration number
          const regNumber = generateRegistrationNumber();
          formData.registrationNumber = regNumber;

          // Store data in localStorage
          localStorage.setItem(
            "courseRegistrationData",
            JSON.stringify(formData)
          );
          console.log("Stored data:", formData);

          // Show success message and redirect
          const course = document.getElementById("courseSelect").value;
          const message = `
Thank you for signing up for ${course}
(15 to 20 Mins)

Your Registration Number is:
${regNumber}

Bank Account Details has been sent to your registered email address. Please upload your Payment Proof. You will get a confirmation email within 1 working day after submitting payment proof.

Note: If you do not find the email in your inbox, check your spam or junk folder or raise the concern through Support.
`;
          alert(
            "Form submitted successfully! You will now be redirected to the payment page."
          );
          window.location.href = `payment.html?message=${encodeURIComponent(
            message
          )}`;
        } else {
          alert("Please fix validation errors before submitting.");
        }
      }

      // Initialize the form when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("consultationForm");
        const courseSelect = document.getElementById("courseSelect");
        const idType = document.getElementById("idType");
        const whatsappInput = document.getElementById("whatsappNumber");

        // Set up event listeners
        courseSelect.addEventListener("change", updatePrice);
        idType.addEventListener("change", toggleIdField);
        whatsappInput.addEventListener("input", validateWhatsAppNumber);
        document
          .getElementById("idNumber")
          .addEventListener("input", validateIdNumber);

        form.addEventListener("submit", submitForm);

        // Initialize price if a course is already selected
        updatePrice();
        toggleIdField();
      });
    </script>
  </body>
</html>
